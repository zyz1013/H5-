<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <div id="box">要复制的内容</div>
    <button id="btn">点击复制</button>
    <div>
      <textarea
        name=""
        id=""
        cols="30"
        rows="10"
        placeholder="这这里粘贴试一下吧!"
      ></textarea>
    </div>

    <script>
      const box = document.getElementById("box");
      const btn = document.getElementById("btn");
      const result = box.innerHTML;
      btn.addEventListener("click", function() {
        copyTextToClipboard(result);
      });

      function copyTextToClipboard(text) {
        var textArea = document.createElement("textarea");

        textArea.style.position = "fixed";
        textArea.style.top = 0;
        textArea.style.left = 0;
        textArea.style.width = "2em";
        textArea.style.height = "2em";
        textArea.style.padding = 0;
        textArea.style.border = "none";
        textArea.style.outline = "none";
        textArea.style.boxShadow = "none";
        textArea.style.background = "transparent";
        textArea.value = text;

        document.body.appendChild(textArea);

        textArea.select();

        try {
          var msg = document.execCommand("copy") ? "成功" : "失败";
          alert("复制内容 " + msg);
        } catch (err) {
          alert("不能使用这种方法复制内容");
        }
        document.body.removeChild(textArea);
      }
    </script>
  </body>
</html>
